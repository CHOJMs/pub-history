!function(b){b.fn.touchSlider=function(c){b.fn.touchSlider.defaults={roll:!0,flexible:!0,resize:!0,btn_prev:null,btn_next:null,paging:null,speed:150,view:1,range:0.15,page:1,sidePage:!1,transition:!0,initComplete:null,counter:null,propagation:!1,autoplay:{enable:!1,pauseHover:!0,addHoverTarget:"",interval:3500},breakpoints:null,supportsCssTransitions:"transition" in document.documentElement.style||"WebkitTransition" in document.documentElement.style};var d=b.extend(!0,{},b.fn.touchSlider.defaults,c);if(d.breakpoints){d.breakpoints.defaultOption={roll:d.roll,flexible:d.flexible,speed:d.speed,view:d.view,sidePage:d.sidePage};for(var f in d.breakpoints){"default"!==f&&(d.breakpoints[f]=b.extend({},d.breakpoints.defaultOption,d.breakpoints[f]))}}return this.each(function(){var e=this;b.fn.extend(this,a),this.opts=d,this.init(),b(window).on("orientationchange resize",function(){e.resize(e)})})};var a={init:function(){var d=this;if(this._view=this.opts.view,this._speed=this.opts.speed,this._tg=b(this),this._list_wrap=this._tg.children(),this._list_wrap.find(".blank").remove(),this._list=this._list_wrap.children(),this._width=parseInt(this._tg.css("width")),this._item_w=parseInt(this._list.css("width")),this._len=this._list.length,this._range=this.opts.range*this._width,this._pos=[],this._start=[],this._startX=0,this._startY=0,this._left=0,this._top=0,this._drag=!1,this._link=!0,this._scroll=!1,this._hover_tg=[],this._btn_prev=null,this._btn_next=null,this._timer=null,this._tg.off("touchstart",this.touchstart).off("touchmove",this.touchmove).off("touchend",this.touchend).off("touchcancel",this.touchend).off("dragstart",this.touchstart).off("drag",this.touchmove).off("dragend",this.touchend).on("touchstart",this.touchstart).on("touchmove",this.touchmove).on("touchend",this.touchend).on("touchcancel",this.touchend).on("dragstart",this.touchstart).on("drag",this.touchmove).on("dragend",this.touchend),this._tg.children().css({width:this._width+"px",overflow:"visible"}),this.opts.flexible&&(this._item_w=this._width/this._view),this.opts.roll){if(this._len%this._view>0){for(var g=b(document.createElement(this._list.eq(0).prop("tagName"))).hide().addClass("blank"),j=this._view-this._len%this._view,k=0;j>k;++k){this._list.parent().append(g.clone())}}this._list=this._tg.children().children(),this._len=this._list.length,this._len=this._len/this._view*this._view}for(var l=this.opts.page>1&&this.opts.page<=this._len?(this.opts.page-1)*this._item_w*this._view:0,f=0,c=this._len;c>f;++f){this._pos[f]=this._item_w*f-l,this._start[f]=this._pos[f],this._list.eq(f).css({"float":"none",position:"absolute",top:"0",width:this._item_w+"px"}),this.move({tg:this._list.eq(f),to:this._pos[f]})}this.opts.btn_prev&&this.opts.btn_next&&(this.opts.btn_prev.off("click").on("click",function(){return d.animate(1,!0),!1}),this.opts.btn_next.off("click").on("click",function(){return d.animate(-1,!0),!1})),this.opts.paging&&(b(this._list).each(function(e){var h=d.opts.paging.eq(0).clone();d.opts.paging.before(h),h.off("click").on("click",function(){return this.go_page(e),!1})}),this.opts.paging.remove()),this.opts.autoplay.enable&&(this._hover_tg=[],this._hover_tg.push(this._tg),this.opts.btn_prev&&this.opts.btn_next&&(this._hover_tg.push(this.opts.btn_prev),this._hover_tg.push(this.opts.btn_next)),""!==this.opts.autoplay.addHoverTarget&&this._hover_tg.push(b(this.opts.autoplay.addHoverTarget)),this.opts.autoplay.pauseHover&&b(this._hover_tg).each(function(){b(this).off("mouseenter mouseleave").on("mouseenter mouseleave",function(e){"mouseenter"==e.type?d.autoStop():(d.autoStop(),d.autoPlay())})}),this.autoStop(),this.autoPlay()),this._tg.off("click").on("click","a",function(){return d._link?void 0:!1}),this.initComplete(),this.counter()},initComplete:function(){this.opts.sidePage&&(this.animate(-1,!0,0),this.animate(1,!0,0)),"function"==typeof this.opts.initComplete&&this.opts.initComplete.call(this,this)},resize:function(d){if(d.opts.flexible){var c=d._item_w;d._width=parseInt(d._tg.css("width")),d._item_w=d._width/d._view,d._range=d.opts.range*d._width,d._list.css({width:d._item_w+"px"}),d._list.parent().css({width:d._item_w+"px"});for(var f=0,g=d._len;g>f;++f){d._pos[f]=d._pos[f]/c*d._item_w,d._start[f]=d._start[f]/c*d._item_w,this.move({tg:d._list.eq(f),to:d._pos[f]})}}this.counter()},touchstart:function(c){this.opts.propagation||c.stopPropagation(),("touchstart"==c.type&&c.originalEvent.touches.length<=1||"dragstart"==c.type)&&(this._startX=c.originalEvent.touches?c.originalEvent.touches[0].pageX:c.pageX,this._startY=c.originalEvent.touches?c.originalEvent.touches[0].pageY:c.pageY,this._scroll=!1,this._start=this._pos.slice(0))},touchmove:function(d){if(this.opts.propagation||d.stopPropagation(),"touchmove"==d.type&&d.originalEvent.touches.length<=1||"drag"==d.type){this._left=(d.originalEvent.touches?d.originalEvent.touches[0].pageX:d.pageX)-this._startX,this._top=(d.originalEvent.touches?d.originalEvent.touches[0].pageY:d.pageY)-this._startY;var c=this._left<0?-1*this._left:this._left,f=this._top<0?-1*this._top:this._top;(f>c||this._scroll)&&!this._drag?(this._left=0,this._drag=!1,this._link=!0,this._scroll=!0):(d.preventDefault(),this._drag=!0,this._link=!1,this._scroll=!1,this.position(d));for(var g=0,h=this._len;h>g;++g){var j=this._start[g]+this._left;this.move({tg:this._list.eq(g),to:j}),this._pos[g]=j}}},touchend:function(d){if(this.opts.propagation||d.stopPropagation(),this._scroll){this._drag=!1,this._link=!0,this._scroll=!1}else{this.animate(this.direction()),this._drag=!1,this._scroll=!0;var c=this;setTimeout(function(){c._link=!0},50)}},position:function(j){var t=this._len,m=this._view,d=m*this._item_w,f=0;if(-1==j||1==j?(this._startX=0,this._start=this._pos.slice(0),this._left=j*d):(this._left>d&&(this._left=d),this._left<-d&&(this._left=-d)),this.opts.roll){var k=this._pos.slice(0).sort(function(h,e){return h-e}),p=k[t-m],c=b.inArray(k[0],this._pos),q=b.inArray(p,this._pos),g=this.opts.sidePage?3:1;if(1>=m&&(p=t-g),1==j&&k[g-1]>=0||this._drag&&k[g-1]>0){for(f=0;m>f;++f,++c,++q){this._start[q]=this._start[c]-d,this.move({tg:this._list.eq(q),to:this._start[q]})}}else{if(-1==j&&k[p]<=0||this._drag&&k[p]<=0){for(f=0;m>f;++f,++c,++q){this._start[c]=this._start[q]+d,this.move({tg:this._list.eq(c),to:this._start[c]})}}}}else{this.limit_chk()&&(this._left=this._left/2)}},move:function(d){var c=void 0!==d.speed?d.speed+"ms ease":"none",f="translate3d("+d.to+"px,0,0)",g={left:"0","-moz-transition":c,"-moz-transform":f,"-ms-transition":c,"-ms-transform":f,"-webkit-transition":c,"-webkit-transform":f,transition:c,transform:f},h=this._list_wrap,j=0;this.opts.supportsCssTransitions&&this.opts.transition?void 0===d.speed?d.tg.css(g):d.btn_click?setTimeout(function(){d.tg.css(g)},10):(j=d.gap>0?-(d.to-d.from):d.from-d.to,d.tg.css({left:d.to+"px","-moz-transition":"none","-moz-transform":"none","-ms-transition":"none","-ms-transform":"none","-webkit-transition":"none","-webkit-transform":"none",transition:"none",transform:"none"}),h.css({transition:"none",transform:"translate3d("+j+"px,0,0)"}),setTimeout(function(){h.css({transition:d.speed+"ms ease",transform:"translate3d(0,0,0)"})},10)):void 0===d.speed?d.tg.css("left",d.to+"px"):d.tg.stop().animate({left:d.to+"px"},d.speed)},animate:function(p,g,q){if(this._drag||!this._scroll||g){var k=q>-1?q:this._speed,d=p*(this._item_w*this._view),f=this._list,j=0,l=0;g&&this.position(p),(0===this._left||!this.opts.roll&&this.limit_chk())&&(d=0);for(var c=0,m=this._len;m>c;++c){j=this._pos[c],l=this._pos[c]=this._start[c]+d,this.move({tg:f.eq(c),gap:d,from:j,to:l,speed:k,btn_click:g})}0!==p&&this.counter()}},direction:function(){var c=0;return this._left<-this._range?c=-1:this._left>this._range&&(c=1),this._drag&&!this._scroll||(c=0),c},limit_chk:function(){var c=parseInt((this._len-1)/this._view)*this._view;return 0===this._start[0]&&this._left>0||0===this._start[c]&&this._left<0},go_page:function(c){for(var d=b.inArray(0,this._pos)/this._view+1,f=d-(c+1);0!==f;){0>f?(this.animate(-1,!0),f++):f>0&&(this.animate(1,!0),f--)}},get_page:function(){return{obj:this,total:Math.ceil(this._len/this._view),current:b.inArray(0,this._pos)/this._view+1}},counter:function(){if(this.opts.breakpoints){var c=this._width,f=this.opts.breakpoints.defaultOption,g=f,j=!1;for(var k in this.opts.breakpoints){if(Boolean(Number(k))&&c<=Number(k)){g=this.opts.breakpoints[k];break}}for(var d in g){f.hasOwnProperty(d)&&this.opts[d]!==g[d]&&(this.opts[d]=g[d],j=!0)}j&&this.init()}b.inArray(0,this._pos)<0&&(this.opts.page=0,this.init()),this.opts.page=this.get_page().current,this.opts.resize&&this._tg.css({height:this._list.eq(this.opts.page-1).height()+"px"}),"function"==typeof this.opts.counter&&this.opts.counter.call(this,this.get_page())},autoPlay:function(){var c=this;this._timer=setInterval(function(){if(c.opts.autoplay.enable&&!c._drag){var d=c.get_page();d.current!=d.total||c.opts.roll?c.animate(-1,!0):c.go_page(0)}},this.opts.autoplay.interval)},autoStop:function(){clearInterval(this._timer)},autoPauseToggle:function(){return this.opts.autoplay.enable?(this.autoStop(),this.opts.autoplay.enable=!1,"stopped"):(this.opts.autoplay.enable=!0,this.autoPlay(),"started")}}}(jQuery);$(window).on("load",function(){var l=location.host;if((l.indexOf("carnoon.co.kr")>=0||l.indexOf("kebhana1q.co.kr")>=0||l.indexOf("kbmagic.co.kr")>=0)&&location.pathname.indexOf("/estimate/")>=0&&location.pathname.indexOf("start")<0){var g=JXG.decompress(dataJson);var h=g.length;var m="";var j="";for(i=0;i<h;i++){m=g.substr(i,1);if(m==1){j+=String.fromCharCode(g.substr(i,3));i+=2}else{j+=String.fromCharCode(g.substr(i,2));i++}}var k=new Date(parseInt($("#estmData").attr("src").substr(-8,8))*1000*60);dataBank.estm=JSON.parse(j);dataBank["default"]=JSON.parse(JXG.decompress($("#jsonZip").val()));startEstimate();openSelectPopup("grade")}});